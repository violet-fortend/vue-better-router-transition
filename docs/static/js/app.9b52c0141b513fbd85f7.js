webpackJsonp([9],{"+YvV":function(t,e){},"4ml/":function(t,e){},"Ap4+":function(t,e){},BsVU:function(t,e){},Egpn:function(t,e){},"I+0M":function(t,e){},Imw2:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("mvHQ"),o=n.n(s),a=new i.a,r={name:"SuspensionBar",components:{},props:{position:{type:Object,default:function(){return{top:"0",left:"0"}}},fixed:{type:Boolean,default:!1}},data:function(){return{flags:!1,positionTemp:{x:0,y:0},nx:"",ny:"",dx:"",dy:"",xPum:"",yPum:"",moveDiv:"",windowWidth:"",windowHeight:"",startY:0,lastY:0,lastMoveTime:0,lastMoveStart:0,stopInertiaMove:!1}},watch:{},computed:{},methods:{down:function(){var t;this.fixed||(this.flags=!0,t=event.touches?event.touches[0]:event,this.positionTemp.x=t.clientX,this.positionTemp.y=t.clientY,this.moveDiv=document.getElementById("moveDiv"),this.windowWidth=document.documentElement.clientWidth,this.windowHeight=document.documentElement.clientHeight,this.dx=this.moveDiv.offsetLeft,this.dy=this.moveDiv.offsetTop,this.lastY=this.startY=event.touches[0].pageY,this.lastMoveStart=this.lastY,this.lastMoveTime=event.timeStamp||Date.now(),this.stopInertiaMove=!0,console.log(this.lastY,"this.lastY"))},move:function(){if(this.flags){var t;t=event.touches?event.touches[0]:event,this.nx=t.clientX-this.positionTemp.x,this.ny=t.clientY-this.positionTemp.y,this.xPum=this.dx+this.nx,this.yPum=this.dy+this.ny,this.xPum>0&&this.xPum+this.moveDiv.clientWidth<this.windowWidth?this.moveDiv.style.left=this.xPum+"px":this.xPum<=0?this.moveDiv.style.left="0px":this.xPum+this.moveDiv.clientWidth>=this.windowWidth&&(this.moveDiv.style.left=this.windowWidth-this.moveDiv.clientWidth+"px"),this.yPum>0&&this.yPum+this.moveDiv.clientHeight<this.windowHeight?this.moveDiv.style.top=this.yPum+"px":this.yPum<=0?this.moveDiv.style.top="0px":this.yPum+this.moveDiv.clientHeight>=this.windowHeight&&(this.moveDiv.style.top=this.windowHeight-this.moveDiv.clientHeight+"px");var e=event.touches[0].pageY,n=e-this.lastY,i=this.moveDiv.getBoundingClientRect().top;console.log(i,"contentTop"),this.moveDiv.style.top=parseInt(i)+n+"px",this.lastY=e;var s=event.timeStamp||Date.now();this.stopInertiaMove=!0,s-this.lastMoveTime>300&&(this.lastMoveTime=s,this.lastMoveStart=e),document.addEventListener("touchmove",this.preventDefault,{passive:!1}),document.addEventListener("mousemove",this.preventDefault,{passive:!1})}},changeNumLeft:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;console.log(this.moveDiv.getBoundingClientRect().left,"moveDiv");var s=null;clearInterval(s);var r=0;return r=Math.floor(t-i),s=setInterval(function(){if(r-=i,n.moveDiv.style.left=r+"px",r<=e){clearInterval(s),n.moveDiv.style.left="0px",n.flags=!1;var t={left:n.moveDiv.getBoundingClientRect().left,top:n.moveDiv.getBoundingClientRect().top};localStorage.setItem("suspensionBar",o()(t)),a.$emit("changePos",!0),n.$emit("change")}},16.7),r},changeNumRight:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;console.log(t,e);var s=null;clearInterval(s);var r=t;return s=setInterval(function(){if(n.moveDiv.style.left=r+"px",r>=e){clearInterval(s),n.moveDiv.style.left=n.windowWidth-n.moveDiv.clientWidth+"px",n.flags=!1;var t={left:n.moveDiv.getBoundingClientRect().left<=n.windowWidth-50?n.moveDiv.getBoundingClientRect().left:n.windowWidth-50,top:n.moveDiv.getBoundingClientRect().top};localStorage.setItem("suspensionBar",o()(t)),a.$emit("changePos",!0),n.$emit("change"),n.moveDiv.style.left=n.moveDiv.getBoundingClientRect().left<=n.windowWidth-50?n.moveDiv.getBoundingClientRect().left+"px":n.windowWidth-50+"px"}r+=i},16.7),r},end:function(){var t=event.changedTouches[0].pageY;console.log(event.changedTouches[0].pageY,"e.touches[0]");var e=t-this.lastY,n=this.moveDiv.getBoundingClientRect().top,i=parseInt(n)+e;this.moveDiv.style.top=i+"px",this.lastY=t;var s=event.timeStamp||Date.now(),o=(t-this.lastMoveStart)/(s-this.lastMoveTime);this.stopInertiaMove=!1,function(t,e,n){var i=t>0?-1:1,s=6e-4*i,o=t/s;console.log(t,s,o,"duration"),function o(){if(!this.stopInertiaMove){var a=(event.timeStamp||Date.now())-e,r=t+a*s;if(!(i*r<0)){var c=(t+r)/2*a;this.moveDiv.style.top=n+c+"px",setTimeout(o,10)}}}()}(o,s,i),document.removeEventListener("touchmove",this.preventDefault,!1),document.removeEventListener("mousemove",this.preventDefault,!1),document.addEventListener("touchmove",function(t){window.event.returnValue=!0}),document.addEventListener("mousemove",function(t){window.event.returnValue=!0})},preventDefault:function(t){t.preventDefault()}}},c={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"xuanfu",style:t.position,attrs:{id:"moveDiv"},on:{mousedown:t.down,touchstart:t.down,mousemove:t.move,touchmove:t.move,mouseup:t.end,touchend:t.end}},[t._t("default")],2)},staticRenderFns:[]};var u=n("VU/8")(r,c,!1,function(t){n("Egpn")},"data-v-7fb78aa6",null).exports,l={name:"iphoneButton",props:{changeOpacity:{type:Boolean,default:!1}},data:function(){return{status:!1,opacity:"",flag:!1,isShowBtn:!0,buttonActive:!0}},watch:{changeOpacity:function(t){this.status=t}},created:function(){var t=this;this.status=this.changeOpacity,a.$on("documentActive",function(e){e||setTimeout(function(){t.isShowBtn=!e},300)})},methods:{handleClick:function(){a.$emit("buttonActive",this.buttonActive),this.isShowBtn=!1}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowBtn?n("div",{ref:"buttonContentRef",class:["iphone-button-wrapper",{"opacity-active":!!t.status}],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClick(e)}}},[t._m(0)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"round-1"}),this._v(" "),e("span",{staticClass:"round-2"}),this._v(" "),e("span",{staticClass:"round-3"})])}]};var v=n("VU/8")(l,h,!1,function(t){n("BsVU")},"data-v-5821653e",null).exports,p={name:"ButtonContent",props:{},data:function(){return{buttonActive:!1}},mounted:function(){var t=this;this.$refs.buttonContentRef,a.$on("buttonActive",function(e){t.buttonActive=e,t.$refs.buttonContentRef.style.opacity="1"}),a.$on("documentActive",function(e){e?t.$refs.buttonContentRef.style.opacity="1":(setTimeout(function(){t.$refs.buttonContentRef.style.opacity="0"},300),t.buttonActive=e)}),a.$on("changePos",function(e){t.$refs.buttonContentRef&&(t.$refs.buttonContentRef.style.left=JSON.parse(localStorage.getItem("suspensionBar")).left+"px",t.$refs.buttonContentRef.style.top=JSON.parse(localStorage.getItem("suspensionBar")).top+"px")})},methods:{handleClick:function(){alert(1)}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"buttonContentRef",class:["button-content-wrapper",{active:this.buttonActive}]},[e("div",{class:["round-wrapper",{"round-wrapper-active":this.buttonActive}],on:{click:this.handleClick}},[e("span",{staticClass:"round-1"}),this._v(" "),e("span",{staticClass:"round-2"}),this._v(" "),e("span",{staticClass:"round-3"})])])},staticRenderFns:[]};var m={name:"Suspension",data:function(){return{position:{top:"0px",left:"0px"},endTime:1,timer:null,changeOpacity:!1,isClickBtn:!1,isShowContent:!1}},components:{ButtonContent:n("VU/8")(p,d,!1,function(t){n("q8yw")},"data-v-7d152238",null).exports,IphoneButton:v,SuspensionBar:u},destroyed:function(){document.removeEventListener("click",this.listenClick,!1)},mounted:function(){var t=this;localStorage.getItem("suspensionBar")&&(this.position={top:JSON.parse(localStorage.getItem("suspensionBar")).top+"px",left:JSON.parse(localStorage.getItem("suspensionBar")).left+"px"}),this.change(),this.listenClick(),a.$on("buttonActive",function(e){e&&(t.$refs.maskRef.style.zIndex=1001)})},methods:{change:function(){var t=this;this.endTime=1,this.changeOpacity=!1,clearTimeout(this.timer),this.timer=setInterval(function(){t.endTime>=3&&(t.changeOpacity=!0,clearTimeout(t.timer)),t.endTime++},1e3)},listenClick:function(){var t=this;document.addEventListener("click",function(e){console.log(e.target.className,"e.target.className"),-1!==e.target.className.indexOf("mask")?(a.$emit("documentActive",!1),t.$refs.maskRef.style.zIndex=0):-1===e.target.className.indexOf("round-1")&&-1===e.target.className.indexOf("round-2")&&-1===e.target.className.indexOf("round-3")&&-1===e.target.className.indexOf("iphone-button-wrapper")||(t.$refs.maskRef.style.zIndex=1001,a.$emit("documentActive",!0))})}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"suspension-bar-box"},[e("div",{ref:"maskRef",staticClass:"suspension-mask"}),this._v(" "),e("div",{staticClass:"suspension-bar-wrapper"},[e("suspension-bar",{attrs:{position:this.position,isClickBtn:this.isClickBtn},on:{change:this.change}},[e("iphone-button",{attrs:{changeOpacity:this.changeOpacity}})],1),this._v(" "),e("button-content")],1)])},staticRenderFns:[]};var g={name:"App",components:{suspension:n("VU/8")(m,f,!1,function(t){n("pYSI")},"data-v-8b243692",null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("suspension"),this._v(" "),e("vue-better-router-transition",{attrs:{keepAlive:!0}})],1)},staticRenderFns:[]};var y=n("VU/8")(g,w,!1,function(t){n("Imw2")},null,null).exports,b=n("/ocq"),x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-layout",{attrs:{id:"__index"}},[n("router-view"),t._v(" "),n("van-tabbar",{attrs:{slot:"footer",fixed:!1},slot:"footer",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{to:"/",icon:"shop"}},[t._v("标签")]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/tab",icon:"chat"}},[t._v("标签")]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/swipe",icon:"records"}},[t._v("标签")])],1)],1)},staticRenderFns:[]},D=n("VU/8")({data:function(){return{active:0}},mounted:function(){switch(this.$route.path){case"/":this.active=0;break;case"/tab":this.active=1;break;case"/swipe":this.active=2;break;default:this.active=0}}},x,!1,null,null,null).exports;i.a.use(b.a);var _=new b.a({routes:[{path:"/",component:D,redirect:"/home",children:[{path:"/home",component:function(t){return n.e(0).then(function(){var e=[n("vkyI")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"home1"}},{path:"/tab",component:function(t){return n.e(3).then(function(){var e=[n("HcBI")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"tab"}},{path:"/swipe",component:function(t){return n.e(2).then(function(){var e=[n("+eDV")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"tab"}},{path:"/composite",component:function(t){return n.e(1).then(function(){var e=[n("YPdD")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/rate",meta:{keepAlive:!1,title:"rate"},component:function(t){return n.e(5).then(function(){var e=[n("J4SX")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/button",component:function(t){return n.e(4).then(function(){var e=[n("GW8G")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/address",component:function(t){return n.e(7).then(function(){var e=[n("sy9f")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/demo",component:function(t){return n.e(6).then(function(){var e=[n("xxzw")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}),C={name:"vue-better-router-transition",props:{keepAlive:{type:Boolean,default:!0}},data:function(){return{state:{routerMap:{},pageDirection:"fade"}}},methods:{setPageDirection:function(t){var e=t.dir,n=t.to,i=t.from;this.state.pageDirection=e,this.state.routerMap.to=n.path,this.state.routerMap.from=i.path},setRouterMap:function(){var t=this.state.pageDirection,e=this.state.routerMap.to.replace(/\//g,"_"),n=this.state.routerMap.from.replace(/\//g,"_");try{"slide-left"===t?this.state.routerMap[n]=document.getElementById(n).scrollTop:"slide-right"===t&&!0===this.keepAlive&&!1!==this.$route.meta.keepAlive&&(document.getElementById(e).scrollTop=this.state.routerMap[e])}catch(t){}}},mounted:function(){var t=this,e=window.sessionStorage,n=e.getItem("count"),i=null,s=null;this.$router.beforeEach(function(o,a,r){if(i=e.getItem(o.path),s=e.getItem(a.path),i?!s||parseInt(i,10)>parseInt(s,10)||"0"===i&&"0"===s?t.setPageDirection({dir:"slide-left",to:o,from:a}):t.setPageDirection({dir:"slide-right",to:o,from:a}):"/home"!==o.path?(++n,e.setItem("count",n),e.setItem(o.path,n),t.setPageDirection({dir:"slide-left",to:o,from:a})):t.setPageDirection({dir:"slide-right",to:o,from:a}),/\/http/.test(o.path)){var c=o.path.split("http")[1];window.location.href="http"+c}else r()})}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-better-router-transition"},[e("transition",{attrs:{name:this.state.pageDirection},on:{leave:this.setRouterMap}},[!0===this.keepAlive&&!1!==this.$route.meta.keepAlive?e("keep-alive",[e("router-view")],1):e("router-view")],1)],1)},staticRenderFns:[]};var $=n("VU/8")(C,I,!1,function(t){n("Ap4+")},null,null).exports,B={name:"router-layout",props:{id:String},data:function(){return{cId:this.id||this.$route.path.replace(/\//g,"_")||"_null_"}}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-better-router-transition-wrapper"},[this._t("header"),this._v(" "),e("div",{staticClass:"vue-better-router-transition-content",attrs:{id:this.cId}},[this._t("default")],2),this._v(" "),this._t("footer")],2)},staticRenderFns:[]};var k=n("VU/8")(B,R,!1,function(t){n("+YvV")},null,null).exports,S={name:"vue-slider",data:function(){return{startX:0,lastX:0,endX:0,disX:0,lastY:0,translateX:"translateX(0px)"}},methods:{touchStart:function(t){1===(t=t||event).touches.length&&(this.startX=this.lastX=t.touches[0].clientX,this.lastY=t.touches[0].clientX)},touchMove:function(t){if(1===(t=t||event).touches.length){this.disX=this.lastX-this.startX;var e=t.touches[0].clientX-this.lastX,n=t.touches[0].clientY-this.lastY;Math.abs(e)>Math.abs(n)&&(this.translateX="translateX("+this.disX+"px)"),this.lastX=t.touches[0].clientX,this.lastY=t.touches[0].clientY}},touchEnd:function(t){t=t||event;var e=this.$refs.slide.offsetWidth;if(1===t.changedTouches.length){var n=t.changedTouches[0].clientX;this.disX=n-this.startX,this.translateX="translateX(0px)",Math.abs(this.disX)>e/10&&(this.disX<0?this.$emit("change","left"):this.$emit("change","right"))}}}},M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"slide",staticClass:"slide",on:{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.touchEnd}},[this._t("default")],2)},staticRenderFns:[]};var X=n("VU/8")(S,M,!1,function(t){n("I+0M")},null,null).exports,E=function(t){t.component($.name,$),t.component(k.name,k),t.component(X.name,X)};"undefined"!=typeof window&&window.Vue&&E(window.Vue);var T={install:E},Y=n("Fd2+");n("4ml/");i.a.use(T),i.a.use(Y.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:_,components:{App:y},template:"<App/>"})},pYSI:function(t,e){},q8yw:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9b52c0141b513fbd85f7.js.map